
<cluster>
 <workspace>
   <name>work_consumer</name>
   <image>${epuworker_image_id}</image>
   <quantity>1</quantity>
   <nic wantlogin="true">public</nic>
   <ctx>
     <provides>
       <identity/>
     </provides>
     <requires>
       <identity/>
       <data name="chef-install-work-consumer"><![CDATA[
{
  "services":{
    "simple_worker":{
      "service_config":"res/apps/epu-worker.app"
    }
  },
  "local_app_confs":{
    "epu.ionproc.epu_worker":{ "queue_name_work":"${queue_name_work}" }
  },
  "universal_app_confs":{
    "broker_host_list":"${broker_ip_address}",
    "sysname":"${exchange_scope}"
  },
  "pythoncc":{
    "broker":"${broker_ip_address}",
    "sysname":"${exchange_scope}",
    "broker_heartbeat":"5",
    "log_level":"${ion_log_level}"
  },
  "appretrieve":{
    "retrieve_method":"${retrieve_method}",
    "archive_url":"${archive_url}",
    "git_repo":"${git_repo}",
    "git_branch":"${git_branch}",
    "git_commit":"${git_commit}"
  },
  "appinstall":{
    "install_method":"py_venv_setup",
    "package_repo":"${package_repo}"
  },
  "apprun":{
    "run_method":"sh"
  },
  "username":"cc",
  "recipes":["burned_ubuntu64_separated"]
}
]]></data>
     </requires>
   </ctx>
 </workspace>
</cluster>
